{% extends "base.html" %}

{% block title %}Home - Craig Mackenzie{% endblock %}

{% block content %}
<!-- Hero Section -->
<section id="home"
    class="relative min-h-screen flex items-center justify-center overflow-hidden bg-white dark:bg-perplexity-dark transition-colors duration-300">
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0">
        <div class="hero-orb-1 absolute -top-40 -right-40 w-96 h-96 bg-muted-blue/10 dark:bg-perplexity-accent/10 rounded-full blur-3xl"></div>
        <div class="hero-orb-2 absolute top-40 -left-20 w-72 h-72 bg-deep-blue/5 dark:bg-muted-blue/10 rounded-full blur-3xl"></div>
    </div>

    <div class="max-w-6xl mx-auto px-6 relative z-10 text-center">
        <div class="fade-in">
            <h1
                class="text-6xl md:text-7xl font-display font-bold text-charcoal dark:text-white mb-8 tracking-tight leading-tight">
                Building <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-muted-blue to-deep-blue dark:from-perplexity-accent dark:to-blue-400">Digital
                    Systems</span><br />
                That Work For You
            </h1>
            <p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed">
Automation that saves time. Insights that guide decisions.
            </p>
            <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-16 max-w-3xl mx-auto leading-relaxed">
                Data-driven. Practical. Built for the real world. </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <a href="#projects"
                    class="cta-button bg-gradient-to-r from-charcoal via-charcoal-light to-deep-blue text-white px-12 py-5 rounded-xl font-semibold shadow-lg hover:shadow-2xl relative z-10">
                    View My Work
                </a>
                <a href="#about"
                    class="cta-button bg-white dark:bg-perplexity-light text-charcoal dark:text-white px-12 py-5 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-700 hover:border-muted-blue dark:hover:border-perplexity-accent shadow-md relative z-10">
                    About Me
                </a>
            </div>
        </div>
</section>

<!-- Featured Project Section -->
<section id="featured-project"
    class="py-24 bg-gradient-to-b from-light-grey to-warm-grey dark:from-perplexity-light dark:to-perplexity-dark scroll-mt-20 relative">
    <div class="max-w-6xl mx-auto px-6">
        <div class="fade-in mb-20 text-center">
            <h2 class="text-5xl md:text-6xl font-display font-bold text-charcoal dark:text-white mb-6 tracking-tight">
                <span class="relative inline-block">
                    Featured Project
                    <svg class="absolute -bottom-2 left-0 w-full h-3" viewBox="0 0 200 12" preserveAspectRatio="none">
                        <path d="M0,7 Q50,0 100,7 T200,7" fill="none" stroke="#d97706" stroke-width="3" opacity="0.3" />
                    </svg>
                </span>
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">A showcase of my recent work</p>
        </div>

        {% if projects and projects|length > 0 %}
        {% set featured_project = projects|selectattr("is_featured")|first %}

        {% if featured_project %}
        <!-- Featured Project - Large Hero Card -->
        <div class="fade-in">
            <div
                class="project-card bg-white dark:bg-perplexity-light rounded-2xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-800">
                {% set video_media = featured_project.media|selectattr("media_type", "equalto", "video")|list %}
                {% set image_media = featured_project.media|selectattr("media_type", "equalto", "image")|list %}

                <a href="/projects/{{ featured_project.slug }}" class="block">
                    {% if video_media|length > 0 %}
                    <video src="{{ video_media[0].url }}" class="w-full h-96 object-cover" controls muted autoplay loop>
                        Your browser does not support the video tag.
                    </video>
                    {% elif image_media|length > 0 %}
                    <img src="{{ image_media[0].url }}" alt="{{ image_media[0].alt_text }}"
                        class="w-full h-96 object-cover">
                    {% else %}
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 h-96"></div>
                    {% endif %}
                </a>
                <div class="p-10">
                    <div class="flex items-center gap-3 mb-4">
                        <span
                            class="px-4 py-2 bg-gradient-to-r from-muted-blue to-deep-blue text-white text-sm font-semibold rounded-full shadow-md">Featured
                            Project</span>
                    </div>
                    <a href="/projects/{{ featured_project.slug }}">
                        <h3 class="text-4xl font-display font-bold text-charcoal dark:text-white mb-6 hover:text-muted-blue dark:hover:text-perplexity-accent transition-colors">{{
                            featured_project.title }}</h3>
                    </a>
                    <p class="text-gray-600 dark:text-gray-300 mb-8 leading-relaxed text-lg">
                        {{ featured_project.short_description or (featured_project.description | striptags)[:200] +
                        '...' if (featured_project.description | striptags | length) > 200 else
                        (featured_project.description | striptags) }}
                    </p>
                    {% if featured_project.tech_stack %}
                    <div class="flex flex-wrap gap-2 mb-8">
                        {% for tech in featured_project.tech_stack %}
                        <span
                            class="px-4 py-2 bg-light-grey dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300 rounded-full">{{
                            tech }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    <div class="flex flex-wrap gap-4">
                        <a href="/projects/{{ featured_project.slug }}"
                            class="cta-button bg-muted-blue dark:bg-perplexity-accent text-white px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition inline-flex items-center group">
                            View Case Study
                            <i data-lucide="arrow-right"
                                class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"></i>
                        </a>
                        <a href="#projects"
                            class="bg-light-grey dark:bg-gray-800 text-charcoal dark:text-white px-8 py-4 rounded-xl font-semibold shadow-md hover:shadow-lg transition inline-flex items-center group">
                            View All Projects
                            <i data-lucide="chevron-down"
                                class="w-5 h-5 ml-2 group-hover:translate-y-1 transition-transform"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <!-- Placeholder when no featured project -->
        <div>
            <div class="fade-in bg-white rounded-2xl overflow-hidden shadow-sm mb-12">
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 h-64"></div>
                <div class="p-8">
                    <h3 class="text-3xl font-semibold text-charcoal dark:text-white mb-4">Coming Soon</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-6 leading-relaxed text-lg">
                        Featured project will be displayed here once added through the admin panel.
                    </p>
                </div>
            </div>
        </div>
        {% endif %}
        {% else %}
        <!-- Placeholder when no projects at all -->
        <div>
            <div class="fade-in bg-white rounded-2xl overflow-hidden shadow-sm mb-12">
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 h-64"></div>
                <div class="p-8">
                    <h3 class="text-3xl font-semibold text-charcoal dark:text-white mb-4">Coming Soon</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-6 leading-relaxed text-lg">
                        Projects will be displayed here once added through the admin panel.
                    </p>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</section>

<!-- About Section -->
<section id="about" class="py-24 bg-white dark:bg-perplexity-dark scroll-mt-20 relative overflow-hidden">
    <div class="max-w-6xl mx-auto px-6 relative z-10">
        <div class="fade-in mb-20 text-center">
            <h2 class="text-5xl md:text-6xl font-display font-bold text-charcoal dark:text-white mb-6 tracking-tight">
                <span class="relative inline-block">
                    About Me
                    <svg class="absolute -bottom-2 left-0 w-full h-3" viewBox="0 0 200 12" preserveAspectRatio="none">
                        <path d="M0,7 Q50,0 100,7 T200,7" fill="none" stroke="#5b8eb3" stroke-width="3" opacity="0.3" />
                    </svg>
                </span>
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-400">Automating real-world workflows and uncovering the
                insights behind the data.</p>
        </div>

        <!-- Bio text -->
        <div class="fade-in mb-20 max-w-4xl mx-auto">
            <div class="space-y-6 text-gray-600 dark:text-gray-300 leading-relaxed text-lg text-center">
                <h3 class="font-display font-semibold text-2xl text-charcoal dark:text-white">My Background</h3>
                <p>
                    I've spent years dipping in and out of web development, Python, automation, and data analysis—always learning, always experimenting. It wasn't until I worked in a fast-paced sales and admin role that everything came together. Seeing how much time was lost to inefficient processes made it obvious how valuable the right systems could be.
                </p>

                <p>
                    So I built them. Automated workflows, digital admin tools, internal dashboards, knowledge bases—simple systems that replaced hours of manual work and gave the team clearer visibility into what was actually happening.
                </p>
                <p>
                    That's what I focus on now: creating practical, data-driven tools for businesses that want to move away from pen-and-paper workflows and start operating with modern, efficient systems.</p>
            </div>
        </div>

        <!-- What I Do -->
        <div class="fade-in mb-24 mt-40">
            <h3 class="text-3xl font-display font-semibold text-charcoal dark:text-white mb-12 text-center">What I Do
            </h3>

            <!-- First Row: 3 cards -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
                <!-- Workflow Automation -->
                <div
                    class="bg-white dark:bg-perplexity-light p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow">
                    <div
                        class="w-12 h-12 bg-gradient-to-br from-muted-blue/10 to-deep-blue/10 rounded-xl flex items-center justify-center mb-4">
                        <i data-lucide="zap" class="w-6 h-6 text-muted-blue"></i>
                    </div>
                    <h4 class="text-xl font-display font-semibold text-charcoal dark:text-white mb-3">Workflow
                        Automation</h4>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-4">
                        I remove bottlenecks and manual steps from everyday business operations. I map out real-world
                        processes, redesign them for clarity and speed, and replace paper-heavy tasks with fast,
                        reliable digital tools that staff actually enjoy using.
                    </p>
                </div>

                <!-- Data Intelligence -->
                <div
                    class="bg-white dark:bg-perplexity-light p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow">
                    <div
                        class="w-12 h-12 bg-gradient-to-br from-accent-amber/10 to-accent-rose/10 rounded-xl flex items-center justify-center mb-4">
                        <i data-lucide="bar-chart-3" class="w-6 h-6 text-accent-amber"></i>
                    </div>
                    <h4 class="text-xl font-display font-semibold text-charcoal dark:text-white mb-3">Data Intelligence
                    </h4>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-4">
                        I turn scattered spreadsheets and raw operational data into clear insights that actually guide
                        decisions. Usage analytics, trends, delays, performance signals—everything becomes visible
                        instead of buried, giving businesses the clarity they've never had before.
                    </p>
                </div>

                <!-- Custom Business Systems -->
                <div
                    class="bg-white dark:bg-perplexity-light p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow">
                    <div
                        class="w-12 h-12 bg-gradient-to-br from-deep-blue/10 to-muted-blue/10 rounded-xl flex items-center justify-center mb-4">
                        <i data-lucide="settings" class="w-6 h-6 text-deep-blue"></i>
                    </div>
                    <h4 class="text-xl font-display font-semibold text-charcoal dark:text-white mb-3">Custom Business
                        Systems</h4>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-4">
                        I build complete, tailored systems around how a business really works—no templates, no generic
                        tools. These platforms connect processes, reduce inconsistencies, and create one central hub
                        that grows with the business and is easy for non-technical teams to use.
                    </p>
                </div>
            </div>


        </div>

        <!-- Skills & Technologies -->
        <div class="fade-in">
            <h3 class="text-3xl font-display font-semibold text-charcoal dark:text-white mb-10 text-center">Skills &
                Technologies</h3>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Python -->
                <div
                    class="skill-card group bg-gradient-to-br from-[#3776AB]/5 to-[#FFD43B]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#3776AB]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M15.9 4c-1.7 0-3.2.2-4.5.5C8.3 5.3 7.5 6.8 7.5 9v3h8v1h-11c-1.7 0-3.2 1-3.7 3-.6 2.3-.6 3.7 0 6 .4 1.7 1.4 3 3.1 3h2v-2.6c0-2 1.7-3.7 3.7-3.7h8c1.6 0 2.9-1.3 2.9-3V9c0-1.5-.8-2.7-2.9-3.5-1.3-.3-2.8-.5-4.6-.5zm-4.4 2.5c.6 0 1.1.5 1.1 1.1s-.5 1.1-1.1 1.1-1.1-.5-1.1-1.1.5-1.1 1.1-1.1z"
                                    fill="#3776AB" />
                                <path
                                    d="M16.1 28c1.7 0 3.2-.2 4.5-.5 3.1-.8 3.9-2.3 3.9-4.5v-3h-8v-1h11c1.7 0 2.4-1.2 3-3 .6-1.9.6-3.7 0-6-.4-1.7-1.3-3-3-3h-2.1v2.7c0 2-1.7 3.6-3.7 3.6h-8c-1.6 0-2.9 1.4-2.9 3v7.7c0 1.6 1.3 2.5 2.9 3 1.9.6 3.7.7 5.4 0zm4.4-2.5c-.6 0-1.1-.5-1.1-1.1s.5-1.1 1.1-1.1 1.1.5 1.1 1.1-.5 1.1-1.1 1.1z"
                                    fill="#FFD43B" />
                            </svg>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Python</p>
                    </div>
                </div>

                <!-- Flask -->
                <div
                    class="skill-card group bg-[#181717]/5 dark:bg-gray-700/20 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#181717]/20 dark:border-gray-600/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="flask-conical" class="w-10 h-10 text-charcoal dark:text-white"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Flask</p>
                    </div>
                </div>

                <!-- FastAPI -->
                <div
                    class="skill-card group bg-[#009688]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#009688]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="zap" class="w-10 h-10 text-[#009688]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">FastAPI</p>
                    </div>
                </div>

                <!-- SQLAlchemy -->
                <div
                    class="skill-card group bg-[#D71F00]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#D71F00]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="database" class="w-10 h-10 text-[#D71F00]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">SQLAlchemy</p>
                    </div>
                </div>

                <!-- PostgreSQL -->
                <div
                    class="skill-card group bg-[#336791]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#336791]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="8" cy="16" r="2" fill="#336791" />
                                <circle cx="16" cy="16" r="2" fill="#336791" />
                                <circle cx="24" cy="16" r="2" fill="#336791" />
                                <rect x="7" y="8" width="2" height="16" fill="#336791" />
                                <rect x="15" y="8" width="2" height="16" fill="#336791" />
                                <rect x="23" y="8" width="2" height="16" fill="#336791" />
                            </svg>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">PostgreSQL</p>
                    </div>
                </div>

                <!-- HTML / CSS -->
                <div
                    class="skill-card group bg-[#E34F26]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#E34F26]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="code-2" class="w-10 h-10 text-[#E34F26]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">HTML / CSS</p>
                    </div>
                </div>

                <!-- JavaScript -->
                <div
                    class="skill-card group bg-[#F7DF1E]/10 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#F7DF1E]/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="32" height="32" rx="2" fill="#F7DF1E" />
                                <text x="6" y="24" font-family="Arial, sans-serif" font-size="18" font-weight="bold"
                                    fill="#000">JS</text>
                            </svg>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">JavaScript</p>
                    </div>
                </div>

                <!-- Tailwind CSS -->
                <div
                    class="skill-card group bg-[#06B6D4]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#06B6D4]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M16 8c-3.5 0-5.8 1.8-6.7 5.3 1.3-1.8 2.9-2.4 4.7-2 1 .3 1.7 1 2.5 1.8 1.3 1.3 2.8 2.9 6.1 2.9 3.5 0 5.8-1.8 6.7-5.3-1.3 1.8-2.9 2.4-4.7 2-1-.3-1.7-1-2.5-1.8-1.3-1.3-2.8-2.9-6.1-2.9zm-6.6 8c-3.5 0-5.8 1.8-6.7 5.3 1.3-1.8 2.9-2.4 4.7-2 1 .3 1.7 1 2.5 1.8 1.3 1.3 2.8 2.9 6.1 2.9 3.5 0 5.8-1.8 6.7-5.3-1.3 1.8-2.9 2.4-4.7 2-1-.3-1.7-1-2.5-1.8-1.3-1.3-2.8-2.9-6.1-2.9z"
                                    fill="#06B6D4" />
                            </svg>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Tailwind CSS</p>
                    </div>
                </div>

                <!-- Pandas / NumPy -->
                <div
                    class="skill-card group bg-[#150458]/5 dark:bg-purple-900/20 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#150458]/20 dark:border-purple-700/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="grid-3x3" class="w-10 h-10 text-[#150458] dark:text-purple-400"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Pandas / NumPy</p>
                    </div>
                </div>

                <!-- REST APIs -->
                <div
                    class="skill-card group bg-muted-blue/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-muted-blue/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="globe" class="w-10 h-10 text-muted-blue"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">REST APIs</p>
                    </div>
                </div>

                <!-- Git / GitHub -->
                <div
                    class="skill-card group bg-[#181717]/5 dark:bg-gray-700/20 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#181717]/20 dark:border-gray-600/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="github" class="w-10 h-10 text-[#181717] dark:text-white"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Git / GitHub</p>
                    </div>
                </div>

                <!-- Jinja2 Templates -->
                <div
                    class="skill-card group bg-[#B41717]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#B41717]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="file-code" class="w-10 h-10 text-[#B41717]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Jinja2 Templates</p>
                    </div>
                </div>

                <!-- Data Visualization -->
                <div
                    class="skill-card group bg-[#FF6B6B]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#FF6B6B]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="bar-chart-3" class="w-10 h-10 text-[#FF6B6B]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Data Visualization</p>
                    </div>
                </div>

                <!-- SQLite -->
                <div
                    class="skill-card group bg-[#003B57]/5 dark:bg-blue-900/20 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#003B57]/20 dark:border-blue-700/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="hard-drive" class="w-10 h-10 text-[#003B57] dark:text-blue-400"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">SQLite</p>
                    </div>
                </div>

                <!-- PythonAnywhere -->
                <div
                    class="skill-card group bg-[#1D9FD7]/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-[#1D9FD7]/20">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="cloud" class="w-10 h-10 text-[#1D9FD7]"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">PythonAnywhere</p>
                    </div>
                </div>

                <!-- Auth & Security -->
                <div
                    class="skill-card group bg-gradient-to-br from-emerald-500/5 to-teal-500/5 p-5 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-emerald-500/20 dark:border-emerald-400/30">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 flex-shrink-0">
                            <i data-lucide="shield-check" class="w-10 h-10 text-emerald-600 dark:text-emerald-400"></i>
                        </div>
                        <p class="font-semibold text-charcoal dark:text-white">Auth & Security</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="projects"
    class="py-24 bg-gradient-to-b from-light-grey to-warm-grey dark:from-perplexity-light dark:to-perplexity-dark relative">
    <div class="max-w-6xl mx-auto px-6">
        {% if projects and projects|length > 0 %}
        {% set other_projects = projects|list %}

        {% if other_projects and other_projects|length > 0 %}
        <div class="fade-in mb-12 text-center">
            <h2 class="text-3xl font-display font-semibold text-charcoal dark:text-white mb-12">Project Portfolio</h2>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for project in other_projects %}
            <!-- Project Card -->
            <a href="/projects/{{ project.slug }}"
                class="project-card fade-in bg-white dark:bg-perplexity-light rounded-2xl overflow-hidden shadow-md border border-gray-100 dark:border-gray-800 block">
                {% if project.media and project.media|length > 0 %}
                <img src="{{ project.media[0].url }}" alt="{{ project.media[0].alt_text }}"
                    class="w-full h-48 object-cover">
                {% else %}
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 h-48"></div>
                {% endif %}
                <div class="p-6">
                    <h3 class="text-2xl font-display font-semibold text-charcoal dark:text-white mb-3">{{ project.title
                        }}</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed text-base">
                        {{ project.short_description or (project.description | striptags)[:150] + '...' if
                        (project.description | striptags | length) > 150 else (project.description | striptags) }}
                    </p>
                    {% if project.tech_stack %}
                    <div class="flex flex-wrap gap-2 mb-4">
                        {% for tech in project.tech_stack[:3] %}
                        <span
                            class="px-3 py-1 bg-light-grey dark:bg-gray-800 text-xs font-medium text-gray-700 dark:text-gray-300 rounded-full">{{
                            tech }}</span>
                        {% endfor %}
                        {% if project.tech_stack|length > 3 %}
                        <span
                            class="px-3 py-1 bg-light-grey dark:bg-gray-800 text-xs font-medium text-gray-700 dark:text-gray-300 rounded-full">+{{
                            project.tech_stack|length - 3 }}</span>
                        {% endif %}
                    </div>
                    {% endif %}
                    <span
                        class="text-muted-blue dark:text-perplexity-accent font-medium inline-flex items-center group">
                        View Case Study
                        <i data-lucide="arrow-right"
                            class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"></i>
                    </span>
                </div>
            </a>
            {% endfor %}
        </div>

        
        {% endif %}
        {% endif %}
    </div>
</section>

<!-- Contact Section -->
<section id="contact"
    class="py-24 bg-gradient-to-b from-warm-grey to-light-grey dark:from-perplexity-dark dark:to-perplexity-light scroll-mt-20 relative">
    <!-- Decorative element -->
    <div
        class="absolute bottom-20 left-10 w-96 h-96 bg-gradient-to-br from-deep-blue/10 to-muted-blue/10 rounded-full blur-3xl">
    </div>

    <div class="max-w-6xl mx-auto px-6 relative z-10">
        <div class="fade-in mb-20 text-center">
            <h2 class="text-5xl md:text-6xl font-display font-bold text-charcoal dark:text-white mb-6 tracking-tight">
                <span class="relative inline-block">
                    Get In Touch
                    <svg class="absolute -bottom-2 left-0 w-full h-3" viewBox="0 0 200 12" preserveAspectRatio="none">
                        <path d="M0,7 Q50,0 100,7 T200,7" fill="none" stroke="#e11d48" stroke-width="3" opacity="0.3" />
                    </svg>
                </span>
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Have a project in mind? Let's discuss how we can work together.
            </p>
        </div>

        <div class="grid md:grid-cols-2 gap-12 items-start">
            <!-- Contact Form -->
            <div
                class="fade-in bg-white dark:bg-perplexity-light p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800">
                <form id="contact-form" class="space-y-6">
                    <div>
                        <label for="name"
                            class="block text-sm font-medium text-charcoal dark:text-gray-300 mb-2">Name</label>
                        <input type="text" id="name" name="name" required
                            class="w-full px-5 py-4 bg-gray-50 dark:bg-perplexity-dark border border-gray-200 dark:border-gray-700 text-charcoal dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-muted-blue dark:focus:ring-perplexity-accent focus:border-transparent transition"
                            placeholder="Your name">
                    </div>
                    <div>
                        <label for="email"
                            class="block text-sm font-medium text-charcoal dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="email" name="email" required
                            class="w-full px-5 py-4 bg-gray-50 dark:bg-perplexity-dark border border-gray-200 dark:border-gray-700 text-charcoal dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-muted-blue dark:focus:ring-perplexity-accent focus:border-transparent transition"
                            placeholder="your.email@example.com">
                    </div>
                    <div>
                        <label for="message"
                            class="block text-sm font-medium text-charcoal dark:text-gray-300 mb-2">Message</label>
                        <textarea id="message" name="message" rows="5" required
                            class="w-full px-5 py-4 bg-gray-50 dark:bg-perplexity-dark border border-gray-200 dark:border-gray-700 text-charcoal dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-muted-blue dark:focus:ring-perplexity-accent focus:border-transparent transition resize-none"
                            placeholder="Tell me about your project..."></textarea>
                    </div>
                    <button type="submit"
                        class="cta-button w-full bg-charcoal dark:bg-perplexity-accent text-white px-8 py-4 rounded-xl font-medium shadow-lg hover:shadow-xl transition">
                        Send Message
                    </button>
                </form>
                <div id="form-message" class="hidden mt-4 p-4 rounded-xl"></div>
            </div>

            <!-- Contact Info -->
            <div class="fade-in space-y-8">
                <div>
                    <h3 class="text-2xl font-display font-semibold text-charcoal dark:text-white mb-6">Connect</h3>
                    <div class="space-y-6">
                        <div class="flex items-center space-x-4">
                            <div
                                class="w-14 h-14 bg-white dark:bg-perplexity-light rounded-xl flex items-center justify-center shadow-sm border border-gray-100 dark:border-gray-800">
                                <i data-lucide="mail" class="w-6 h-6 text-muted-blue dark:text-perplexity-accent"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Email</p>
                                <a href="mailto:craig@cmack.dev"
                                    class="text-charcoal dark:text-white font-semibold hover:text-muted-blue dark:hover:text-perplexity-accent transition-colors">craig@cmack.dev</a>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div
                                class="w-14 h-14 bg-white dark:bg-perplexity-light rounded-xl flex items-center justify-center shadow-sm border border-gray-100 dark:border-gray-800">
                                <i data-lucide="map-pin"
                                    class="w-6 h-6 text-muted-blue dark:text-perplexity-accent"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium">Location</p>
                                <p class="text-charcoal dark:text-white font-semibold">Inverness, Scotland</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div
                    class="bg-white dark:bg-perplexity-light p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800">
                    <h4 class="text-lg font-semibold text-charcoal dark:text-white mb-4">Let's Collaborate</h4>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
                        Open to freelance work and collaboration on tools that solve real operational problems.
                        If you're dealing with manual processes that need automation, let's talk.
                        <br /><br />
                        If your business is held together by spreadsheets, paperwork, or memory,
                        I can help turn it into a clean, automated system.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
    // Contact form handling
    const contactForm = document.getElementById('contact-form');
    const formMessage = document.getElementById('form-message');

    contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            message: document.getElementById('message').value
        };

        try {
            const response = await fetch('/api/v1/contact', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });

            if (response.ok) {
                formMessage.textContent = 'Thank you for your message! I\'ll get back to you soon.';
                formMessage.className = 'mt-4 p-4 rounded-xl bg-emerald-50 text-emerald-800 border border-emerald-200';
                formMessage.classList.remove('hidden');
                contactForm.reset();

                setTimeout(() => {
                    formMessage.classList.add('hidden');
                }, 5000);
            } else {
                throw new Error('Failed to submit');
            }
        } catch (error) {
            formMessage.textContent = 'Oops! Something went wrong. Please try again.';
            formMessage.className = 'mt-4 p-4 rounded-xl bg-red-50 text-red-800 border border-red-200';
            formMessage.classList.remove('hidden');
        }
    });
</script>
{% endblock %}